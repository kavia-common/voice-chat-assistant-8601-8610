{"is_source_file": true, "format": "Python", "description": "This Python module provides a transcription service that attempts to transcribe audio files using OpenAI's Whisper API with a fallback to SpeechRecognition. It includes functions for configuring clients, performing transcriptions, and handling different configurations and exceptions.", "external_files": ["django.conf.settings", "openai (optional)", "speech_recognition (optional)"], "external_methods": ["settings.OPENAI_API_KEY", "settings.OPENAI_TRANSCRIPTION_MODEL", "OpenAI.audio.transcriptions.create", "sr.AudioFile", "sr.Recognizer.record", "recognizer.recognize_sphinx", "recognizer.recognize_google"], "published": ["transcribe_audio"], "classes": [], "methods": [{"name": "_openai_client()", "description": "Creates and returns an OpenAI client if API key and SDK are available.", "scope": "", "scopeKind": ""}, {"name": "Tuple[bool,str] _transcribe_with_openai(file_path: str)", "description": "Attempts to transcribe audio using OpenAI Whisper API.", "scope": "", "scopeKind": ""}, {"name": "Tuple[bool,str] _transcribe_with_speech_recognition(file_path: str)", "description": "Fallback method using SpeechRecognition to transcribe audio via Sphinx or Google APIs.", "scope": "", "scopeKind": ""}, {"name": "Tuple[bool,str] transcribe_audio(file_path: str)", "description": "Main function to transcribe audio, preferring OpenAI and falling back to SpeechRecognition.", "scope": "", "scopeKind": ""}], "calls": ["settings.OPENAI_API_KEY", "settings.OPENAI_TRANSCRIPTION_MODEL", "OpenAI(audio.transcriptions.create)", "sr.AudioFile", "sr.Recognizer.record", "recognizer.recognize_sphinx", "recognizer.recognize_google"], "search-terms": ["transcribe_audio", "OpenAI Whisper API", "SpeechRecognition fallback", "audio transcription", "pyaudio", "ffmpeg", "audio file recognition"], "state": 2, "file_id": 22, "knowledge_revision": 56, "git_revision": "", "ctags": [{"_type": "tag", "name": "OpenAI", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^    OpenAI = None  # type: ignore$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_openai_client", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^def _openai_client():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_transcribe_with_openai", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^def _transcribe_with_openai(file_path: str) -> Tuple[bool, str]:$/", "language": "Python", "typeref": "typename:Tuple[bool,str]", "kind": "function", "signature": "(file_path: str)"}, {"_type": "tag", "name": "_transcribe_with_speech_recognition", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^def _transcribe_with_speech_recognition(file_path: str) -> Tuple[bool, str]:$/", "language": "Python", "typeref": "typename:Tuple[bool,str]", "kind": "function", "signature": "(file_path: str)"}, {"_type": "tag", "name": "sr", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^    import speech_recognition as sr  # type: ignore$/", "language": "Python", "kind": "namespace", "nameref": "module:speech_recognition"}, {"_type": "tag", "name": "sr", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^    sr = None  # type: ignore$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "transcribe_audio", "path": "/home/kavia/workspace/code-generation/voice-chat-assistant-8601-8610/voice_chat_backend/api/services/transcribe.py", "pattern": "/^def transcribe_audio(file_path: str) -> Tuple[bool, str]:$/", "language": "Python", "typeref": "typename:Tuple[bool,str]", "kind": "function", "signature": "(file_path: str)"}], "hash": "039d02255fc238956a958d770a863663", "format-version": 4, "code-base-name": "voice_chat_backend", "filename": "voice_chat_backend/api/services/transcribe.py", "fields": [{"name": "OpenAI = None  # type: ignore", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "sr = None  # type: ignore", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"56": ""}]}